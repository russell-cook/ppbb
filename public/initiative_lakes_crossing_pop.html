<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Lake's Crossing</title>
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>

    <script type="text/javascript">

		google.load("visualization", "1", {packages:["corechart"]});

		function drawPieChart() {
			var pieData = google.visualization.arrayToDataTable([
			  ['Task', 'Percent'],
			  ['Direct Initiative Funding',     95],
			  ['New Metrics',      5]
			]);

			var options = {
			  title: 'Cost of New Metrics',
			  legend: {position: 'none'},
			};

			var chart = new google.visualization.PieChart(document.getElementById('piechart'));
			chart.draw(pieData, options);
		}

		function drawCostOfInitiativeChart() {
			// Create and populate the data table.
			var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'New Funding'],
			  ['FY14',  1481330],
			  ['FY15',  1543564]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.ComboChart(document.getElementById('costOfInitiativeChart'));
			ac.draw(data, {
				title : 'Cost of Initiative',
				titleTextStyle: {fontSize: 18},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Funding", minValue: 0, format: '$#,###'},
				hAxis: {title: "Fiscal Year"},
				seriesType: "bars"
				//isStacked:false
			});
		}

		function drawBenchmarkChartA() {
		    var data = google.visualization.arrayToDataTable([
		      ['Year', 'National', 'State'],
		      ['2008',  3.4,    3.8],
		      ['2009',  3.4,    3.6],
		      ['2010',  3.5,    4],
		      ['2011',  3.5,    3.8],
		      ['2012', 	null, 	null]
		    ]);

		    var options = {
		      	//title: 'Company Performance',
		      	pointSize: 3,
				vAxis: {title: "Days", minValue: 0}
		    };

		    var chart = new google.visualization.LineChart(document.getElementById('benchmarkChartA'));
		    chart.draw(data, options);
		}

		function drawBenchmarkChartB() {
		    var data = google.visualization.arrayToDataTable([
		      ['Year', 'National', 'State'],
		      ['2008',  0,	0.23],
		      ['2009',  null,	0.18],
		      ['2010',  null,	0.27],
		      ['2011',  null,	0.19],
		      ['2012', 	null, 	null]
		    ]);

		    var options = {
		      	//title: 'Company Performance',
		      	pointSize: 3,
		      	//because of error when all values in a series are null, set the first values in the series (in the data array) to 0 and hide it with pointSize: 0
		      	series: {0:{pointSize: 0}},
				vAxis: {title: "Percent", minValue: 0, maxValue: 1, format: '#,###.##%'}
		    };

		    var chart = new google.visualization.LineChart(document.getElementById('benchmarkChartB'));
		    chart.draw(data, options);
		}

      	function drawPMInitiativeChartA() {
			// Create and populate the data table.
			var data = new google.visualization.DataTable();
			data.addColumn('date', 'Date');
			data.addColumn('number', 'Number Waiting');
			data.addRows([
				[new Date(2012,4,10),5],
				[new Date(2012,4,23),6],
				[new Date(2012,5,17),9],
				[new Date(2012,6,11),7],
				[new Date(2012,6,29),5],
				[new Date(2012,7,30),8],
				[new Date(2012,8,13),8],
				[new Date(2012,8,24),7],
				[new Date(2012,9,7),5],
				[new Date(2012,9,26),8],
				[new Date(2012,10,18),8],
				[new Date(2012,11,1),6],
				[new Date(2012,12,20),12],
				[new Date(2013,1,9),13],
				[new Date(2013,1,10),14],
				[new Date(2013,1,17),15],
				[new Date(2013,1,31),16],
				[new Date(2013,2,25),18],
				[new Date(2013,3,8),18],
				[new Date(2013,3,19),23],
				[new Date(2013,3,25),21],
				[new Date(2013,4,19),26],
				[new Date(2013,4,29),34],
				[new Date(2013,5,7),31],
				[new Date(2013,5,20),32],
				[new Date(2013,6,10),36],
				[new Date(2013,6,20),32],
				[new Date(2013,7,10),36]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.LineChart(document.getElementById('PMInitiativeChartA'));
			ac.draw(data, {
				//title : 'Cost of Initiative',
				//titleTextStyle: {fontSize: 18},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Number Waiting", minValue: 0},
				//hAxis: {title: "Date"},
				pointSize: 3
				//seriesType: "bars"
				//isStacked:false
			});
		}

		function drawPMInitiativeChartB() {
			// Create and populate the data table.
			var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'Average Wait Time (days)'],
			  ['FY10',  13],
			  ['FY11',  11],
			  ['FY12',  14],
			  ['FY13',  18]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.ComboChart(document.getElementById('PMInitiativeChartB'));
			ac.draw(data, {
				//title : 'Cost of Initiative',
				//titleTextStyle: {fontSize: 18},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Days", minValue: 0},
				hAxis: {title: "Fiscal Year"},
				seriesType: "bars"
				//isStacked:false
			});
		}

		function drawPMAgencyChartA() {
			// Create and populate the data table.
			var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'Average Length of Stay (days)'],
			  ['FY08',  127],
			  ['FY09',  68],
			  ['FY10',  76],
			  ['FY11',  102],
			  ['FY12',  81],
			  ['FY13',  98],
			  ['FY14',  null],
			  ['FY15',  null],
			  ['FY16',  null],
			  ['FY17',  null]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.ComboChart(document.getElementById('PMAgencyChartA'));
			ac.draw(data, {
				//title : 'Cost of Initiative',
				//titleTextStyle: {fontSize: 18},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Days", minValue: 0},
				hAxis: {title: "Fiscal Year"},
				seriesType: "bars"
				//isStacked:false
			});
		}

		function drawPMAgencyChartB() {
		    var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'Percent Discharged Competant to Stand Trial'],
			  ['FY08',  null],
			  ['FY09',  .84],
			  ['FY10',  .87],
			  ['FY11',  .81],
			  ['FY12',  .74],
			  ['FY13',  .71],
			  ['FY14',  null],
			  ['FY15',  null],
			  ['FY16',  null],
			  ['FY17',  null]
		    ]);

		    var options = {
		      	//title: 'Company Performance',
		      	pointSize: 3,
				legend: {position: 'bottom'},
				vAxis: {title: "Percent", minValue: 0, maxValue: 1, format: '#,###.##%'}
		    };

		    var chart = new google.visualization.LineChart(document.getElementById('PMAgencyChartB'));
		    chart.draw(data, options);
		}

		function drawPMAgencyChartC() {
			// Create and populate the data table.
			var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'Rehospitalization of Conditional Release Clients'],
			  ['FY08',  0],
			  ['FY09',  0],
			  ['FY10',  0],
			  ['FY11',  0],
			  ['FY12',  0],
			  ['FY13',  0],
			  ['FY14',  null],
			  ['FY15',  null],
			  ['FY16',  null],
			  ['FY17',  null]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.ComboChart(document.getElementById('PMAgencyChartC'));
			ac.draw(data, {
				//title : 'Cost of Initiative',
				//titleTextStyle: {fontSize: 18},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Clients", minValue: 0, maxValue: 5},
				hAxis: {title: "Fiscal Year"},
				seriesType: "bars"
				//isStacked:false
			});
		}

		function drawPMAgencyChartD() {
			// Create and populate the data table.
			var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'Average Cost Per Client Per Day'],
			  ['FY10',  513],
			  ['FY11',  424],
			  ['FY12',  420],
			  ['FY13',  378],
			  ['FY14',  null],
			  ['FY15',  null],
			  ['FY16',  null],
			  ['FY17',  null]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.ComboChart(document.getElementById('PMAgencyChartD'));
			ac.draw(data, {
				//title : 'Cost of Initiative',
				titleTextStyle: {fontSize: 18},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Cost", minValue: 0, format: '$#,###'},
				hAxis: {title: "Fiscal Year"},
				seriesType: "bars"
				//isStacked:false
			});
		}

		function drawCaseloadChartA() {
			// Create and populate the data table.
			var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'Rehospitalization of Conditional Release Clients'],
			  ['FY07',  58],
			  ['FY08',  57],
			  ['FY09',  49],
			  ['FY10',  48],
			  ['FY11',  60],
			  ['FY12',  55],
			  ['FY13',  60],
			  ['FY14',  null],
			  ['FY15',  null],
			  ['FY16',  null],
			  ['FY17',  null]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.ComboChart(document.getElementById('caseloadChartA'));
			ac.draw(data, {
				//title : 'Cost of Initiative',
				//titleTextStyle: {fontSize: 18},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Clients", minValue: 0, maxValue: 5},
				hAxis: {title: "Fiscal Year"},
				seriesType: "bars"
				//isStacked:false
			});
		}

		function drawCaseloadChartB() {
			// Create and populate the data table.
			var data = google.visualization.arrayToDataTable([
			  ['Fiscal Year', 'Clark Co', 'Washoe Co', 'Rural'],
			  ['FY09',  .63,      .18,	.20],
			  ['FY10',  .73,      .19,	.08],
			  ['FY11',  .65,      .21,	.14],
			  ['FY12',  .68,      .20,	.12],
			  ['FY13',  .67,      .23,	.10]
			]);

			// Create and draw the visualization.
			var ac = new google.visualization.ComboChart(document.getElementById('caseloadChartB'));
			ac.draw(data, {
				//title : 'Cost of Initiative',
				//titleTextStyle: {fontSize: 24},
				//width: 600,
				//height: 400,
				legend: {position: 'bottom'},
				vAxis: {title: "Percent", minValue: 0, maxValue: 1, format: '#,###.##%'},
				hAxis: {title: "Fiscal Year"},
				seriesType: "bars",
				isStacked:true
			});
		}

		//draw all google charts after page load has completed
		google.setOnLoadCallback(function() {
			drawAllCharts();
		});

		//called by clicking on a tab. when a tab is selected, set a 10ms timer and then re-draw all google charts
		function initTimeout() {
			clearTimeout(doit);
			doit = setTimeout(function() {
			    drawAllCharts();
			}, 10);
		}

		function drawAllCharts(){
			//drawCostOfInitiativeChart();
			//drawBenchmarkChartA();
			//drawBenchmarkChartB();
			//drawPMInitiativeChartA();
			//drawPMInitiativeChartB();
			//drawPMAgencyChartA();
			//drawPMAgencyChartB();
			//drawPMAgencyChartC();
			//drawPMAgencyChartD();
			drawCaseloadChartA();
			drawCaseloadChartB();
			//drawPieChart();
		}

    </script>
  
  <link rel="stylesheet" href="css/foundation.css">
  <link rel="stylesheet" href="css/ie8-grid-foundation-4.css">

  <script src="js/vendor/custom.modernizr.js"></script>

</head>
<body>
	<div class="row">
		<div class="large-12 columns">
			<ul class="breadcrumbs">
			  <li>PPBB</li>
			  <li><a href="index.html">Major Budget Initiatives</a></li>
			  <li class="current"><a href="#">Lake's Crossing</a></li>
			</ul>
			<h2>Initiative: Lake's Crossing</h2>
			<dl class="sub-nav">
			  <!--<dt><strong>View:</strong></dt>-->
			  <dd><a href="initiative_lakes_crossing.html">Overview</a></dd>
			  <dd>|</dd>
			  <dd><a href="initiative_lakes_crossing_desc.html">Description/Justification</a></dd>
			  <dd>|</dd>
			  <dd><a href="initiative_lakes_crossing_fund.html">Funding Details</a></dd>
			  <dd>|</dd>
			  <dd><a href="initiative_lakes_crossing_obj.html">Statewide Objectives/Benchmarks Advanced</a></dd>
			  <dd>|</dd>
			  <dd><a href="initiative_lakes_crossing_pm.html">Performance Measures</a></dd>
			  <dd>|</dd>
			  <dd class="active"><a href="initiative_lakes_crossing_pop.html">Population/Caseload</a></dd>
			</dl>
		</div>
	</div>

								<div class="row">
									<div class="large-12 columns">
										<h3>Population</h3>
										<p>Some individuals who are arrested for either misdemeanor or felony crimes may not be competent to stand trial.</p>
										<div class="panel callout radius">
											<p>Note to Jeff: Do we need a chart here? Should we consolidate these three tabs (Population, Caseload, Who Is Impacted)? If so, what info would we be adding on the 'Details' page?</p>
										</div>

										<br>

										<h3>Caseload</h3>
										<p>Lake’s Crossing’s primary mission is to evaluate and restore to competency individuals for whom there is a question of their competency to stand trial. A judge determines whether an incarcerated individual should receive a competency evaluation at Lake’s Crossing. Individuals who have been found to be “not guilty by reason of insanity” are also housed at this facility. In addition Lake’s Crossing is the location where “incompetent and dangerous” clients (NRS 178.461) are committed until they may be conditionally released or discharged from commitment.</p>

										<h5>Average Daily Census</h5>
										<div id="caseloadChartA" style="width: 100%; height: 20em"></div>
										<p><i>Note: Daily census not to exceed 66 clients.</i></p>

										<hr>
										<h5>Client Referral Source by Region</h5>
										<div class="panel callout">
											<p>Russ Note: This chart needs formatting correction</p>
										</div>
										<div id="caseloadChartB" style="width: 100%; height: 20em"></div>
										<p><i>Note: Most rural admissions are from Elko, Nye, Lyon, and Carson City counties.</i></p>

										<hr>

										<h3>Who Is Impacted?</h3>
										<p>This initiative impacts those individuals who are currently waiting for available forensic beds at Lake’s Crossing. The current long wait times are impacting these individuals’ ability to get a timely trial and may potentially violate their civil rights. Jails are also impacted because they are currently holding individuals who belong in a forensic facility. In addition, the public is bearing the cost of incarcerating these individuals who may be restored to competency if they receive the appropriate treatment.</p>

									</div>
								</div>


  <script>
  document.write('<script src=' +
  ('__proto__' in {} ? 'js/vendor/zepto' : 'js/vendor/jquery') +
  '.js><\/script>')
  </script>
  
  <script src="js/foundation.min.js"></script>

	<script>

		//re-draw the google charts 100ms after a window re-size has been completed
		$(document).foundation();

		var doit;

		$(window).resize(function() {
			clearTimeout(doit);
			doit = setTimeout(function() {
			    drawAllCharts();
			}, 100);
		});

	</script>

  	<div id="modalSampleModal" class="reveal-modal small">
	  <h3>Expanded Description</h3>
	  <p>Details here</p>
	  <p><a href="#">-> Continue to Destination</a></p>
	  <a class="close-reveal-modal">&#215;</a>
	</div>


</body>
</html>
